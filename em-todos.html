<head>
  <title>em-todos</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <div class="container">
    <div class="login">
      {{> loginButtons}}
    </div>

    {{> TodosPanel}}
  </div>
</body>

<template name="TodosPanel">
  <div class="todos-panel">
      {{> CreateTodoItem}}

    <ul class="todos-list">
      {{#each items}}
        <li class="todo-item {{isDoneClass}}">
          {{> TodoItem}}
        </li>
      {{else}}
        <li class="todo-item empty">
          No todos yet.
        </li>
      {{/each}}
    </ul>
    {{> TodosCount}}
  </div>
</template>


<template name="TodoItem">
  <div class="done">
    <input type="checkbox" name="is_done" {{isDoneChecked}} />
  </div>

  <div class="subject">
    {{subject}}
  </div>
  {{#if currentUser}}
    <div class="pull-right remove">
      <a href="#">Remove</a>
    </div>
  {{/if}}
 
</template>

<template name="CreateTodoItem">
  <form class="create-todo">
  {{#if currentUser}}
    <input type="text" placeholder="Create new todo...">
  {{else}}
    <input type="text" readonly placeholder="Sign in to create todos.">
  {{/if}}
  </form>
</template>

<template name="TodosCount">
  <div class="todos-count">
    {{completedCount}} / {{totalCount}} todos completed
  </div>
</template>
